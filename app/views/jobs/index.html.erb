<!-- Jobs - 2 Column Layout -->
<div class="max-w-6xl mx-auto px-4 py-8">
  <!-- Page Header with Logo -->
  <%= render 'shared/page_header_with_logo', 
      title: "Offres d'Emploi",
      subtitle: "D√©couvrez les opportunit√©s professionnelles de votre r√©gion" %>

  <!-- Action Buttons -->
  <% if user_signed_in? %>
    <div class="flex flex-col sm:flex-row gap-4 mb-8 justify-center">
      <%= link_to "üíº #{t('actions.post_job')}", new_job_path, 
                  class: "px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-semibold" %>
      <%= link_to "üìã Mes candidatures", my_applications_jobs_path, 
                  class: "px-6 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg font-semibold" %>
      <%= link_to "üìä Mes offres", my_jobs_jobs_path, 
                  class: "px-6 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg font-semibold" %>
    </div>
  <% end %>

  <!-- Filters Section -->
  <div class="flex flex-col md:flex-row gap-4 mb-8 justify-center">
    <select class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
      <option><%= t('dropdowns.job_type') %></option>
      <option><%= t('dropdowns.permanent') %></option>
      <option><%= t('dropdowns.temporary') %></option>
      <option><%= t('dropdowns.freelance') %></option>
      <option><%= t('dropdowns.internship') %></option>
      <option><%= t('dropdowns.part_time') %></option>
    </select>
    <select class="px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
      <option><%= t('dropdowns.sector') %></option>
      <option><%= t('dropdowns.tech') %></option>
      <option><%= t('dropdowns.commerce') %></option>
      <option><%= t('dropdowns.health') %></option>
      <option><%= t('dropdowns.education') %></option>
      <option><%= t('dropdowns.marketing') %></option>
    </select>
    <button class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700">
      üîÑ <%= t('actions.refresh') %>
    </button>
  </div>

  <!-- 2-Column Jobs Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Job 1 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-1')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">üíª</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-blue-500 text-white px-2 py-1 rounded text-xs">Tech</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 2h</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">D√©veloppeur Full Stack - CDI</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">Startup innovante recherche d√©veloppeur exp√©riment√©...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par TechCorp</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">45-55k‚Ç¨</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-1')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Job 2 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-2')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">üõçÔ∏è</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-green-500 text-white px-2 py-1 rounded text-xs">Commerce</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 4h</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">Responsable Boutique - CDI</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">G√©rez notre magasin centre-ville, √©quipe de 5 personnes...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par Mode & Style</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">35-40k‚Ç¨</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-2')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Job 3 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-3')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">ü©∫</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-red-500 text-white px-2 py-1 rounded text-xs">Sant√©</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 1j</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">Infirmier(√®re) - CDD 6 mois</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">Remplacement cong√© maternit√©, service g√©riatrie...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par Clinique du Parc</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">2800‚Ç¨/mois</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-3')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Job 4 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-4')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-purple-100 dark:bg-purple-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">üìö</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs">√âducation</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 3h</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">Professeur de Math√©matiques</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">Coll√®ge priv√©, classes de 4√®me et 3√®me, √† la rentr√©e...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par Coll√®ge Sainte-Marie</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">Selon grille</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-4')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Job 5 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-5')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">üìà</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-yellow-500 text-white px-2 py-1 rounded text-xs">Marketing</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 6h</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">Chef de Projet Digital</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">Agence cr√©ative, gestion projets web et mobile...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par Digital Agency</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">40-50k‚Ç¨</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-5')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Job 6 -->
    <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer" onclick="openModal('modal-6')">
      <div class="flex gap-4">
        <div class="w-24 h-24 bg-indigo-100 dark:bg-indigo-900 rounded-lg flex items-center justify-center flex-shrink-0">
          <span class="text-3xl">üéì</span>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start mb-2">
            <span class="bg-indigo-500 text-white px-2 py-1 rounded text-xs">Stage</span>
            <span class="text-sm text-gray-500 dark:text-gray-400">Il y a 12h</span>
          </div>
          <h3 class="font-bold text-lg mb-1 text-gray-900 dark:text-gray-100">Stage Communication - 6 mois</h3>
          <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">Assistance marketing et communication digitale...</p>
          <div class="flex justify-between items-center">
            <span class="text-xs text-gray-500 dark:text-gray-400">Par StartupFrench</span>
            <div class="flex items-center gap-2">
              <span class="text-xs font-semibold text-green-600">600‚Ç¨/mois</span>
              <button class="text-blue-600 hover:text-blue-800 text-sm font-medium" onclick="event.stopPropagation(); openModal('modal-6')">
                üì§ Postuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- Detail Modal -->
<div id="detail-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50">
  <div class="bg-white dark:bg-gray-800 max-w-3xl w-full mx-4 rounded-lg overflow-hidden max-h-[80vh] overflow-y-auto">
    <div class="p-6">
      <!-- Modal Header -->
      <div class="flex justify-between items-start mb-6">
        <div id="modal-category" class="bg-blue-500 text-white px-4 py-2 rounded-full text-sm font-medium"></div>
        <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl font-bold">√ó</button>
      </div>
      
      <!-- Modal Content -->
      <div class="flex gap-6 mb-6">
        <div id="modal-image" class="w-32 h-32 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0">
          <span id="modal-emoji" class="text-4xl"></span>
        </div>
        <div class="flex-1">
          <h2 id="modal-title" class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2"></h2>
          <div id="modal-company" class="text-lg text-gray-700 dark:text-gray-300 mb-3"></div>
          <div class="flex items-center gap-4 mb-4">
            <div id="modal-salary" class="text-lg font-semibold text-green-600"></div>
            <div id="modal-contract" class="px-3 py-1 bg-gray-200 dark:bg-gray-600 rounded text-sm"></div>
          </div>
          <div class="flex justify-between items-center">
            <div id="modal-time" class="text-sm text-gray-500 dark:text-gray-400"></div>
            <div id="modal-location" class="text-sm text-gray-600 dark:text-gray-400"></div>
          </div>
        </div>
      </div>
      
      <!-- Job Description -->
      <div class="mb-6">
        <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-3">Description du poste</h3>
        <div id="modal-description" class="text-gray-600 dark:text-gray-400 space-y-2"></div>
      </div>
      
      <!-- Requirements -->
      <div class="mb-6">
        <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-3">Profil recherch√©</h3>
        <div id="modal-requirements" class="text-gray-600 dark:text-gray-400"></div>
      </div>
      
      <!-- Application Form -->
      <div class="border-t dark:border-gray-600 pt-6">
        <h3 class="text-lg font-bold text-gray-900 dark:text-gray-100 mb-4">Postuler pour ce poste</h3>
        <form class="space-y-4" onsubmit="handleJobApplicationSubmit(event)">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Nom complet</label>
              <input type="text" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="Pr√©nom Nom" required>
            </div>
            <div>
              <label class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Email</label>
              <input type="email" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="votre@email.com" required>
            </div>
          </div>
          
          <div>
            <label class="block text-gray-700 dark:text-gray-300 font-medium mb-2">Lettre de motivation</label>
            <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:border-blue-500 focus:outline-none resize-none" placeholder="Expliquez votre motivation et vos qualifications..." required></textarea>
          </div>
          
          <div>
            <label class="block text-gray-700 dark:text-gray-300 font-medium mb-2">CV (optionnel)</label>
            <input type="file" accept=".pdf,.doc,.docx" class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-lg focus:border-blue-500 focus:outline-none">
          </div>
          
          <div class="flex gap-4 pt-4">
            <button type="submit" class="bg-blue-500 hover:bg-blue-600 text-white flex-1 py-3 px-6 rounded-lg font-semibold">
              üì§ <%= t('actions.send_application') %>
            </button>
            <button type="button" onclick="closeModal()" class="bg-gray-500 hover:bg-gray-600 text-white py-3 px-6 rounded-lg font-semibold">
              <%= t('actions.close') %>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
// Modal data for job opportunities
const modalData = {
  'modal-1': {
    category: 'Tech',
    title: 'D√©veloppeur Full Stack - CDI',
    company: 'TechCorp - Startup innovante',
    salary: '45 000 - 55 000‚Ç¨ /an',
    contract: 'CDI',
    location: 'Paris, France',
    time: 'Il y a 2h',
    emoji: 'üíª',
    description: `
      <p>Nous recherchons un d√©veloppeur Full Stack exp√©riment√© pour rejoindre notre √©quipe dynamique. Vous travaillerez sur des projets innovants utilisant les derni√®res technologies.</p>
      <p><strong>Missions principales :</strong></p>
      <ul class="list-disc ml-5">
        <li>D√©veloppement d'applications web modernes (React, Node.js)</li>
        <li>Conception et optimisation de bases de donn√©es</li>
        <li>Collaboration avec l'√©quipe produit et design</li>
        <li>Maintenance et √©volution du code existant</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>5+ ann√©es d'exp√©rience en d√©veloppement web</li>
        <li>Ma√Ætrise de JavaScript, React, Node.js</li>
        <li>Connaissance des bases de donn√©es (PostgreSQL, MongoDB)</li>
        <li>Exp√©rience avec Git et m√©thodologies agiles</li>
        <li>Anglais technique requis</li>
      </ul>
    `
  },
  'modal-2': {
    category: 'Commerce',
    title: 'Responsable Boutique - CDI',
    company: 'Mode & Style - Boutique de v√™tements',
    salary: '35 000 - 40 000‚Ç¨ /an',
    contract: 'CDI',
    location: 'Lyon, France',
    time: 'Il y a 4h',
    emoji: 'üõçÔ∏è',
    description: `
      <p>Rejoignez notre √©quipe et g√©rez notre magasin en centre-ville. Vous serez responsable d'une √©quipe de 5 personnes dans un environnement dynamique.</p>
      <p><strong>Responsabilit√©s :</strong></p>
      <ul class="list-disc ml-5">
        <li>Management d'√©quipe et formation du personnel</li>
        <li>Gestion des stocks et commandes</li>
        <li>Accueil client et conseil en vente</li>
        <li>Analyse des performances et reporting</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>3+ ann√©es d'exp√©rience en management retail</li>
        <li>Excellent relationnel et sens commercial</li>
        <li>Ma√Ætrise des outils de gestion (caisse, stock)</li>
        <li>Leadership et capacit√©s d'organisation</li>
        <li>Passion pour la mode et les tendances</li>
      </ul>
    `
  },
  'modal-3': {
    category: 'Sant√©',
    title: 'Infirmier(√®re) - CDD 6 mois',
    company: 'Clinique du Parc - √âtablissement de sant√©',
    salary: '2 800‚Ç¨ /mois',
    contract: 'CDD 6 mois',
    location: 'Marseille, France',
    time: 'Il y a 1j',
    emoji: 'ü©∫',
    description: `
      <p>Remplacement cong√© maternit√© dans notre service de g√©riatrie. Rejoignez une √©quipe bienveillante dans un cadre de travail moderne.</p>
      <p><strong>Missions :</strong></p>
      <ul class="list-disc ml-5">
        <li>Soins infirmiers en service de g√©riatrie</li>
        <li>Administration des traitements</li>
        <li>Surveillance des patients et transmissions</li>
        <li>Collaboration avec l'√©quipe m√©dicale</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>Dipl√¥me d'√âtat d'infirmier(√®re)</li>
        <li>Exp√©rience souhait√©e en g√©riatrie</li>
        <li>Empathie et relation d'aide</li>
        <li>Travail en √©quipe et adaptabilit√©</li>
        <li>Disponibilit√© pour horaires variables</li>
      </ul>
    `
  },
  'modal-4': {
    category: '√âducation',
    title: 'Professeur de Math√©matiques',
    company: 'Coll√®ge Sainte-Marie - Enseignement priv√©',
    salary: 'Selon grille nationale',
    contract: 'CDI',
    location: 'Toulouse, France',
    time: 'Il y a 3h',
    emoji: 'üìö',
    description: `
      <p>Enseignement des math√©matiques en classes de 4√®me et 3√®me dans notre coll√®ge priv√© sous contrat. Poste √† pourvoir √† la rentr√©e prochaine.</p>
      <p><strong>Missions :</strong></p>
      <ul class="list-disc ml-5">
        <li>Enseigner les math√©matiques niveau coll√®ge</li>
        <li>Pr√©paration des cours et √©valuations</li>
        <li>Suivi p√©dagogique des √©l√®ves</li>
        <li>Participation aux conseils de classe</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>Master en math√©matiques ou √©quivalent</li>
        <li>CAPES ou exp√©rience d'enseignement</li>
        <li>P√©dagogie et patience</li>
        <li>Adh√©sion au projet √©ducatif</li>
        <li>Esprit d'√©quipe et communication</li>
      </ul>
    `
  },
  'modal-5': {
    category: 'Marketing',
    title: 'Chef de Projet Digital',
    company: 'Digital Agency - Agence cr√©ative',
    salary: '40 000 - 50 000‚Ç¨ /an',
    contract: 'CDI',
    location: 'Nantes, France',
    time: 'Il y a 6h',
    emoji: 'üìà',
    description: `
      <p>Rejoignez notre agence cr√©ative en pleine croissance. Vous piloterez des projets web et mobile pour nos clients grands comptes.</p>
      <p><strong>Missions :</strong></p>
      <ul class="list-disc ml-5">
        <li>Gestion de projets digitaux de A √† Z</li>
        <li>Coordination des √©quipes cr√©atives et techniques</li>
        <li>Relation client et suivi budg√©taire</li>
        <li>Veille technologique et innovation</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>3+ ann√©es en gestion de projet digital</li>
        <li>Connaissance techniques web/mobile</li>
        <li>Ma√Ætrise des outils de gestion de projet</li>
        <li>Excellent relationnel client</li>
        <li>Cr√©ativit√© et sens de l'innovation</li>
      </ul>
    `
  },
  'modal-6': {
    category: 'Stage',
    title: 'Stage Communication - 6 mois',
    company: 'StartupFrench - Startup tech fran√ßaise',
    salary: '600‚Ç¨ /mois + tickets resto',
    contract: 'Stage 6 mois',
    location: 'Bordeaux, France',
    time: 'Il y a 12h',
    emoji: 'üéì',
    description: `
      <p>Stage de fin d'√©tudes en communication et marketing digital. Int√©grez une startup innovante et participez √† notre croissance !</p>
      <p><strong>Missions :</strong></p>
      <ul class="list-disc ml-5">
        <li>Gestion des r√©seaux sociaux</li>
        <li>Cr√©ation de contenu marketing</li>
        <li>Support √©v√©nementiel</li>
        <li>Analyse des performances digitales</li>
      </ul>
    `,
    requirements: `
      <ul class="list-disc ml-5">
        <li>√âtudiant(e) Bac+4/5 en communication</li>
        <li>Ma√Ætrise des r√©seaux sociaux</li>
        <li>Cr√©ativit√© et autonomie</li>
        <li>Outils Adobe appr√©ci√©s</li>
        <li>Anglais courant souhait√©</li>
      </ul>
    `
  }
};

// Modal functions
function openModal(modalId) {
  const data = modalData[modalId];
  if (data) {
    document.getElementById('modal-category').textContent = data.category;
    document.getElementById('modal-title').textContent = data.title;
    document.getElementById('modal-company').textContent = data.company;
    document.getElementById('modal-salary').textContent = data.salary;
    document.getElementById('modal-contract').textContent = data.contract;
    document.getElementById('modal-location').textContent = data.location;
    document.getElementById('modal-time').textContent = data.time;
    document.getElementById('modal-emoji').textContent = data.emoji;
    document.getElementById('modal-description').innerHTML = data.description;
    document.getElementById('modal-requirements').innerHTML = data.requirements;
    
    // Set category color based on type
    const categoryElement = document.getElementById('modal-category');
    const categoryColors = {
      'Tech': 'bg-blue-500',
      'Commerce': 'bg-green-500',
      'Sant√©': 'bg-red-500',
      '√âducation': 'bg-purple-500',
      'Marketing': 'bg-yellow-500',
      'Stage': 'bg-indigo-500'
    };
    
    // Reset classes and add appropriate color
    categoryElement.className = `text-white px-4 py-2 rounded-full text-sm font-medium ${categoryColors[data.category] || 'bg-blue-500'}`;
    
    document.getElementById('detail-modal').style.display = 'flex';
    document.getElementById('detail-modal').classList.remove('hidden');
  }
}

function closeModal() {
  document.getElementById('detail-modal').style.display = 'none';
  document.getElementById('detail-modal').classList.add('hidden');
}

function handleJobApplicationSubmit(event) {
  event.preventDefault();
  alert('Candidature envoy√©e! L\'employeur vous r√©pondra rapidement.');
  closeModal();
}

// Close modal when clicking outside
document.getElementById('detail-modal').addEventListener('click', function(e) {
  if (e.target === document.getElementById('detail-modal')) {
    closeModal();
  }
});
</script>